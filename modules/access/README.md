# ACI Access Policy Module

## Use this module to create Access Policies in the APIC Controller

## Usage

```hcl
module "access" {

  source = "terraform-cisco-modules/aci//modules/access"

  # omitted...
}
```

This module will create the following Access Policies in an APIC Controller:

* Domains
 - Access Domains
 - l3Out Domains
 - Physical Domains

* Global Polices
 - Attachable Access Entity (AEP) Policies

* Interface Policies
  - CDP Interface Policies
  - Fibre-Channel Interface Policies
  - Layer2 Interface Policies
  - LACP (Port-Channel) Interface Policies
  - Link Level Policies
  - LLDP Interface Policies
  - MisCabling Protocol (MCP) Interface Policies
  - Port Security Policies
  - Spanning Tree Interface Policies

* Leaf
  - Fabric Membership
  - Interface Profiles
  - Interface Selectors
  - Switch Profiles
  - Switch Policy Groups

* Spine
  - Fabric Membership
  - Interface Profiles
  - Interface Selectors
  - Switch Profiles
  - Switch Policy Groups

* VLAN Pools

<!-- BEGINNING OF PRE-COMMIT-TERRAFORM DOCS HOOK -->
## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | >= 1.1.0 |
| <a name="requirement_aci"></a> [aci](#requirement\_aci) | >= 1.2.0 |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_aci"></a> [aci](#provider\_aci) | >= 1.2.0 |

## Modules

No modules.

## Resources

| Name | Type |
|------|------|
| [aci_access_port_block.leaf_port_blocks](https://registry.terraform.io/providers/ciscodevnet/aci/latest/docs/resources/access_port_block) | resource |
| [aci_access_port_selector.leaf_interface_selectors](https://registry.terraform.io/providers/ciscodevnet/aci/latest/docs/resources/access_port_selector) | resource |
| [aci_access_sub_port_block.leaf_port_subblocks](https://registry.terraform.io/providers/ciscodevnet/aci/latest/docs/resources/access_sub_port_block) | resource |
| [aci_access_switch_policy_group.leaf_policy_groups](https://registry.terraform.io/providers/ciscodevnet/aci/latest/docs/resources/access_switch_policy_group) | resource |
| [aci_cdp_interface_policy.cdp_interface_policies](https://registry.terraform.io/providers/ciscodevnet/aci/latest/docs/resources/cdp_interface_policy) | resource |
| [aci_fabric_if_pol.link_level_policies](https://registry.terraform.io/providers/ciscodevnet/aci/latest/docs/resources/fabric_if_pol) | resource |
| [aci_fabric_node_member.fabric_node_members](https://registry.terraform.io/providers/ciscodevnet/aci/latest/docs/resources/fabric_node_member) | resource |
| [aci_interface_fc_policy.fc_interface_policies](https://registry.terraform.io/providers/ciscodevnet/aci/latest/docs/resources/interface_fc_policy) | resource |
| [aci_l2_interface_policy.l2_interface_policies](https://registry.terraform.io/providers/ciscodevnet/aci/latest/docs/resources/l2_interface_policy) | resource |
| [aci_lacp_policy.lacp_interface_policies](https://registry.terraform.io/providers/ciscodevnet/aci/latest/docs/resources/lacp_policy) | resource |
| [aci_leaf_interface_profile.leaf_interface_profiles](https://registry.terraform.io/providers/ciscodevnet/aci/latest/docs/resources/leaf_interface_profile) | resource |
| [aci_leaf_profile.leaf_profiles](https://registry.terraform.io/providers/ciscodevnet/aci/latest/docs/resources/leaf_profile) | resource |
| [aci_leaf_selector.leaf_selectors](https://registry.terraform.io/providers/ciscodevnet/aci/latest/docs/resources/leaf_selector) | resource |
| [aci_lldp_interface_policy.lldp_interface_policies](https://registry.terraform.io/providers/ciscodevnet/aci/latest/docs/resources/lldp_interface_policy) | resource |
| [aci_miscabling_protocol_interface_policy.mcp_interface_policies](https://registry.terraform.io/providers/ciscodevnet/aci/latest/docs/resources/miscabling_protocol_interface_policy) | resource |
| [aci_port_security_policy.port_security_policies](https://registry.terraform.io/providers/ciscodevnet/aci/latest/docs/resources/port_security_policy) | resource |
| [aci_ranges.vlans](https://registry.terraform.io/providers/ciscodevnet/aci/latest/docs/resources/ranges) | resource |
| [aci_rest.spine_interface_selectors](https://registry.terraform.io/providers/ciscodevnet/aci/latest/docs/resources/rest) | resource |
| [aci_rest.spine_profile_node_blocks](https://registry.terraform.io/providers/ciscodevnet/aci/latest/docs/resources/rest) | resource |
| [aci_spanning_tree_interface_policy.spanning_tree_interface_policies](https://registry.terraform.io/providers/ciscodevnet/aci/latest/docs/resources/spanning_tree_interface_policy) | resource |
| [aci_spine_interface_profile.spine_interface_profiles](https://registry.terraform.io/providers/ciscodevnet/aci/latest/docs/resources/spine_interface_profile) | resource |
| [aci_spine_port_policy_group.spine_port_policy_groups](https://registry.terraform.io/providers/ciscodevnet/aci/latest/docs/resources/spine_port_policy_group) | resource |
| [aci_spine_profile.spine_profiles](https://registry.terraform.io/providers/ciscodevnet/aci/latest/docs/resources/spine_profile) | resource |
| [aci_spine_switch_association.spine_profile_assocations](https://registry.terraform.io/providers/ciscodevnet/aci/latest/docs/resources/spine_switch_association) | resource |
| [aci_spine_switch_policy_group.spine_policy_groups](https://registry.terraform.io/providers/ciscodevnet/aci/latest/docs/resources/spine_switch_policy_group) | resource |
| [aci_vlan_pool.vlan_pool](https://registry.terraform.io/providers/ciscodevnet/aci/latest/docs/resources/vlan_pool) | resource |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_apicPass"></a> [apicPass](#input\_apicPass) | Password for User based Authentication. | `string` | `""` | no |
| <a name="input_apicUrl"></a> [apicUrl](#input\_apicUrl) | Cisco APIC URL.  In Example http://apic.example.com | `string` | n/a | yes |
| <a name="input_apicUser"></a> [apicUser](#input\_apicUser) | Username for User based Authentication. | `string` | `""` | no |
| <a name="input_certName"></a> [certName](#input\_certName) | Cisco ACI Certificate Name for SSL Based Authentication | `string` | `""` | no |
| <a name="input_interface_policies"></a> [interface\_policies](#input\_interface\_policies) | key - Unused - Just a filler<br>* cdp\_interface\_policies:<br>  - admin\_state: (Default value is "enabled").  The State of the CDP Protocol on the Interface.<br>  - alias: A changeable name for a given object. While the name of an object, once created, cannot be changed, the alias is a field that can be changed.<br>  - description: Description to add to the Object.  The description can be up to 128 alphanumeric characters.<br>* fc\_interface\_policies:<br>  - alias: A changeable name for a given object. While the name of an object, once created, cannot be changed, the alias is a field that can be changed.<br>  - auto\_max\_speed: (Default value is "32G").  Auto-max-speed for object interface FC policy. Allowed values are:<br>    * 4G<br>    * 8G<br>    * 16G<br>    * 32G<br>  - description: Description to add to the Object.  The description can be up to 128 alphanumeric characters.<br>  - fill\_pattern: (Default value is "ARBFF").  Fill Pattern for native FC ports. Allowed values are:<br>    * ARBFF<br>    * IDLE<br>  - port\_mode: (Default value is "f").  In which mode Ports should be used. Allowed values are "f" and "np".<br>  - receive\_buffer\_credit: (Default value is "64").  Receive buffer credits for native FC ports Range:(16 - 64).<br>  - speed: (Default value is "auto").  CPU or port speed. All the supported values are:<br>    * unknown<br>    * auto<br>    * 4G<br>    * 8G<br>    * 16G<br>    * 32G<br>  - trunk\_mode: (Default value is "trunk-off").  Trunking on/off for native FC ports. Allowed values are:<br>    * un-init<br>    * trunk-off<br>    * trunk-on<br>    * auto<br>* l2\_interface\_policies:<br>  - alias: A changeable name for a given object. While the name of an object, once created, cannot be changed, the alias is a field that can be changed.<br>  - description: Description to add to the Object.  The description can be up to 128 alphanumeric characters.<br>  - qinq: (Default value is "disabled").  To enable or disable an interface for Dot1q Tunnel or Q-in-Q encapsulation modes, select one of the following:<br>    * corePort: Configure this core-switch interface to be included in a Dot1q Tunnel.  You can configure multiple corePorts, for multiple customers, to be used in a Dot1q Tunnel.<br>    * disabled: Disable this interface to be used in a Dot1q Tunnel.<br>    * doubleQtagPort: Configure this interface to be used for Q-in-Q encapsulated traffic.<br>    * edgePort: Configure this edge-switch interface (for a single customer) to be included in a Dot1q Tunnel.<br>  - reflective\_relay: (Default value is "disabled").  Enable or disable reflective relay for ports that consume the policy.<br>  - vlan\_scope: (Default value is "global").  The layer 2 interface VLAN scope. The scope can be:<br>    * global: Sets the VLAN encapsulation value to map only to a single EPG per leaf.<br>    * portlocal: Allows allocation of separate (Port, Vlan) translation entries in both ingress and egress directions. This configuration is not valid when the EPGs belong to a single bridge domain.<br>    VLAN Scope is not supported if edgePort is selected in the QinQ field.<br>    Note:  Changing the VLAN scope from Global to Port Local or Port Local to Global will cause the ports where this policy is applied to flap and traffic will be disrupted.<br>* lacp\_interface\_policies:<br>  - alias: A changeable name for a given object. While the name of an object, once created, cannot be changed, the alias is a field that can be changed.<br>  - description: Description to add to the Object.  The description can be up to 128 alphanumeric characters.<br>  - fast\_select\_standby\_ports: (Default value is true).  Configures fast select for hot standby ports. Enabling this feature will allow fast selection of a hot standby port when last active port in the port-channel is going down.<br>  - graceful\_convergence: (Default value is true).  Configures port-channel LACP graceful convergence. Disable this only with LACP ports connected to a Non-Nexus peer. Disabling this with Nexus peer can lead to port suspension.<br>  - load\_defer\_member\_ports: (Default value is false).  Configures the load-balancing algorithm for port channels that applies to the entire device or to only one module.<br>  - maximum\_number\_of\_links: (Default value is "16").  Maximum number of links. Allowed value range is "1" - "16".<br>  - minimum\_number\_of\_links: (Default value is "1").  Minimum number of links in port channel. Allowed value range is "1" - "16". <br>  - mode: (Default value is "off").  policy mode. Allowed values are "off", "active", "passive", "mac-pin" and "mac-pin-nicload".<br>    * active: LACP mode that places a port into an active negotiating state in which the port initiates negotiations with other ports by sending LACP packets.<br>    * mac-pin: Used for pinning VM traffic in a round-robin fashion to each uplink based on the MAC address of the VM. MAC Pinning is the recommended option for channeling when connecting to upstream switches that do not support multichassis EtherChannel (MEC).<br>    * mac-pin-nicload: Pins VM traffic in a round-robin fashion to each uplink based on the MAC address of the physical NIC.<br>    * off: All static port channels (that are not running LACP) remain in this mode. If you attempt to change the channel mode to active or passive before enabling LACP, the device displays an error message.<br>    * passive: LACP mode that places a port into a passive negotiating state in which the port responds to LACP packets that it receives but does not initiate LACP negotiation. Passive mode is useful when you do not know whether the remote system, or partner, supports LACP.<br>  - suspend\_individual\_port: (Default value is true).  LACP sets a port to the suspended state if it does not receive an LACP bridge protocol data unit (BPDU) from the peer ports in a port channel. This can cause some servers to fail to boot up as they require LACP to logically bring up the port.<br>  - symmetric\_hashing: (Default value is false).  Bidirectional traffic is forced to use the same physical interface and each physical interface in the port channel is effectively mapped to a set of flows.<br>* link\_level\_policies:<br>  - alias: A changeable name for a given object. While the name of an object, once created, cannot be changed, the alias is a field that can be changed.<br>  - auto\_negotiation: (Default value is "on").  Policy auto negotiation for object fabric if pol. Allowed values:<br>    * on<br>    * off<br>  - description: Description to add to the Object.  The description can be up to 128 alphanumeric characters.<br>  - forwarding\_error\_correction: (Default value is "inherit").  Forwarding error correction for object fabric if pol. Allowed values: <br>    * inherit<br>    * cl91-rs-fec<br>    * cl74-fc-fec<br>    * ieee-rs-fec<br>    * cons16-rs-fec<br>    * kp-fec<br>    * disable-fec<br>  - link\_debounce\_interval: (Default value is "100").  Link debounce interval for object fabric if pol. Range of allowed values: "0" to "5000".<br>  - speed: (Default value is "inherit").  Port speed for object fabric if pol. Allowed values: <br>    * unknown<br>    * 100M<br>    * 1G<br>    * 10G<br>    * 25G<br>    * 40G<br>    * 50G<br>    * 100G<br>    * 200G<br>    * 400G<br>    * inherit<br>* lldp\_interface\_policies:<br>  - alias: A changeable name for a given object. While the name of an object, once created, cannot be changed, the alias is a field that can be changed.<br>  - description: Description to add to the Object.  The description can be up to 128 alphanumeric characters.<br>  - receive\_state: (Default value is "enabled").  The reception of LLDP packets on an interface. <br>  - tags: A search keyword or term that is assigned to the Object. Tags allow you to group multiple objects by descriptive names. You can assign the same tag name to multiple objects and you can assign one or more tag names to a single object.<br>  - transmit\_state: (Default value is "enabled").  The transmission of LLDP packets on an interface. <br>* mcp\_interface\_policies:<br>  - admin\_state: (Default value is "enabled").  The administrative state of the MCP interface policy. The state can be:<br>  - alias: A changeable name for a given object. While the name of an object, once created, cannot be changed, the alias is a field that can be changed.<br>  - description: Description to add to the Object.  The description can be up to 128 alphanumeric characters.<br>  - tags: A search keyword or term that is assigned to the Object. Tags allow you to group multiple objects by descriptive names. You can assign the same tag name to multiple objects and you can assign one or more tag names to a single object.<br>* port\_security\_policies:<br>  - alias: A changeable name for a given object. While the name of an object, once created, cannot be changed, the alias is a field that can be changed.<br>  - description: Description to add to the Object.  The description can be up to 128 alphanumeric characters.<br>  - maximum\_endpoints: (Default value is "0").  The maximum number of endpoints that can be learned on the interface. The current supported range for the maximum endpoints configured value is from 0 to 12000. If the maximum endpoints value is 0, the port security policy is disabled on that port.<br>  - port\_security\_timeout: (Default value is "60").  The delay time before MAC learning is re-enabled. The current supported range for the timeout value is from 60 to 3600.<br>  - tags: A search keyword or term that is assigned to the Object. Tags allow you to group multiple objects by descriptive names. You can assign the same tag name to multiple objects and you can assign one or more tag names to a single object.<br>* spanning\_tree\_interface\_policies:<br>  - alias: A changeable name for a given object. While the name of an object, once created, cannot be changed, the alias is a field that can be changed.<br>  - bpdu\_filter\_enabled: (Default value is false).  The interface level control that enables the BPDU filter for extended chassis ports.<br>  - bpdu\_guard\_enabled: (Default value is false).  The interface level control that enables the BPDU guard for extended chassis ports.<br>  - description: Description to add to the Object.  The description can be up to 128 alphanumeric characters.<br>  - tags: A search keyword or term that is assigned to the Object. Tags allow you to group multiple objects by descriptive names. You can assign the same tag name to multiple objects and you can assign one or more tag names to a single object. | <pre>map(object(<br>    {<br>      cdp_interface_policies = map(object(<br>        {<br>          admin_state = optional(string)<br>          alias       = optional(string)<br>          description = optional(string)<br>        }<br>      ))<br>      fc_interface_policies = map(object(<br>        {<br>          alias                 = optional(string)<br>          auto_max_speed        = optional(string)<br>          description           = optional(string)<br>          fill_pattern          = optional(string)<br>          port_mode             = optional(string)<br>          receive_buffer_credit = optional(string)<br>          speed                 = optional(string)<br>          trunk_mode            = optional(string)<br>        }<br>      ))<br>      l2_interface_policies = map(object(<br>        {<br>          alias            = optional(string)<br>          description      = optional(string)<br>          qinq             = optional(string)<br>          reflective_relay = optional(string)<br>          vlan_scope       = optional(string)<br>        }<br>      ))<br>      lacp_interface_policies = map(object(<br>        {<br>          alias                     = optional(string)<br>          fast_select_standby_ports = optional(bool)<br>          graceful_convergence      = optional(bool)<br>          load_defer_member_ports   = optional(bool)<br>          suspend_individual_port   = optional(bool)<br>          symmetric_hashing         = optional(bool)<br>          description               = optional(string)<br>          maximum_number_of_links   = optional(string)<br>          minimum_number_of_links   = optional(string)<br>          mode                      = optional(string)<br>        }<br>      ))<br>      link_level_policies = map(object(<br>        {<br>          alias                       = optional(string)<br>          auto_negotiation            = optional(string)<br>          description                 = optional(string)<br>          forwarding_error_correction = optional(string)<br>          link_debounce_interval      = optional(string)<br>          speed                       = optional(string)<br>        }<br>      ))<br>      lldp_interface_policies = map(object(<br>        {<br>          alias          = optional(string)<br>          description    = optional(string)<br>          receive_state  = optional(string)<br>          tags           = optional(string)<br>          transmit_state = optional(string)<br>        }<br>      ))<br>      mcp_interface_policies = map(object(<br>        {<br>          admin_state = optional(string)<br>          alias       = optional(string)<br>          description = optional(string)<br>          tags        = optional(string)<br>        }<br>      ))<br>      port_security_policies = map(object(<br>        {<br>          alias                 = optional(string)<br>          description           = optional(string)<br>          maximum_endpoints     = optional(string)<br>          port_security_timeout = optional(string)<br>          tags                  = optional(string)<br>        }<br>      ))<br>      spanning_tree_interface_policies = map(object(<br>        {<br>          alias               = optional(string)<br>          bpdu_filter_enabled = optional(string)<br>          bpdu_guard_enabled  = optional(string)<br>          description         = optional(string)<br>          tags                = optional(string)<br>        }<br>      ))<br>    }<br>  ))</pre> | <pre>{<br>  "default": {<br>    "cdp_interface_policies": {<br>      "default": {<br>        "admin_state": "enabled",<br>        "alias": "",<br>        "description": ""<br>      }<br>    },<br>    "fc_interface_policies": {<br>      "default": {<br>        "alias": "",<br>        "auto_max_speed": "32G",<br>        "description": "",<br>        "fill_pattern": "ARBFF",<br>        "port_mode": "f",<br>        "receive_buffer_credit": "64",<br>        "speed": "auto",<br>        "trunk_mode": "trunk-off"<br>      }<br>    },<br>    "l2_interface_policies": {<br>      "default": {<br>        "alias": "",<br>        "description": "",<br>        "qinq": "disabled",<br>        "reflective_relay": "disabled",<br>        "vlan_scope": "global"<br>      }<br>    },<br>    "lacp_interface_policies": {<br>      "default": {<br>        "alias": "",<br>        "description": "",<br>        "fast_select_standby_ports": true,<br>        "graceful_convergence": true,<br>        "load_defer_member_ports": false,<br>        "maximum_number_of_links": "16",<br>        "minimum_number_of_links": "1",<br>        "mode": "off",<br>        "suspend_individual_port": true,<br>        "symmetric_hashing": false<br>      }<br>    },<br>    "link_level_policies": {<br>      "default": {<br>        "alias": "",<br>        "auto_negotiation": "on",<br>        "description": "",<br>        "forwarding_error_correction": "inherit",<br>        "link_debounce_interval": "100",<br>        "speed": "inherit"<br>      }<br>    },<br>    "lldp_interface_policies": {<br>      "default": {<br>        "alias": "",<br>        "description": "",<br>        "receive_state": "enabled",<br>        "tags": "",<br>        "transmit_state": "enabled"<br>      }<br>    },<br>    "mcp_interface_policies": {<br>      "default": {<br>        "admin_state": "enabled",<br>        "alias": "",<br>        "description": "",<br>        "tags": ""<br>      }<br>    },<br>    "port_security_policies": {<br>      "default": {<br>        "alias": "",<br>        "description": "",<br>        "maximum_endpoints": "0",<br>        "port_security_timeout": "60",<br>        "tags": ""<br>      }<br>    },<br>    "spanning_tree_interface_policies": {<br>      "default": {<br>        "alias": "",<br>        "bpdu_filter_enabled": false,<br>        "bpdu_guard_enabled": false,<br>        "description": "",<br>        "tags": ""<br>      }<br>    }<br>  }<br>}</pre> | no |
| <a name="input_leaf_policy_groups"></a> [leaf\_policy\_groups](#input\_leaf\_policy\_groups) | key - Name of the Leaf Policy Group.<br>  * bfd\_ipv4\_policy: The BFD IPv4 policy name.  Bidirectional Forwarding Detection (BFD) is used to provide sub-second failure detection times in the forwarding path between Cisco ACI fabric border leaf switches configured to support peering router connections.<br>  * bfd\_ipv6\_policy: The BFD IPv6 policy name.  Bidirectional Forwarding Detection (BFD) is used to provide sub-second failure detection times in the forwarding path between Cisco ACI fabric border leaf switches configured to support peering router connections.<br>  * bfd\_multihop\_ipv4\_policy: The BFD multihop IPv4 policy name.  Bidirectional Forwarding Detection (BFD) multihop for IPv4 provides subsecond forwarding failure detection for a destination with more than one hop and up to 255 hops.<br>  * bfd\_multihop\_ipv6\_policy: The BFD multihop IPv6 policy name.  Bidirectional Forwarding Detection (BFD) multihop for IPv6 provides subsecond forwarding failure detection for a destination with more than one hop and up to 255 hops.<br>  * cdp\_policy: The CDP policy name.  CDP is used to obtain protocol addresses of neighboring devices and discover those devices. CDP is also be used to display information about the interfaces connecting to the neighboring devices. CDP is media- and protocol-independent, and runs on all Cisco-manufactured equipments including routers, bridges, access servers, and switches.<br>  * copp\_leaf\_policy: The leaf CoPP policy name.  Control Plane Policing (CoPP) protects the control plane, which ensures network stability, reachability, and packet delivery.<br>  * copp\_pre\_filter: The CoPP Pre-Filter name.  A CoPP prefilter profile is used on spine and leaf switches to filter access to authentication services based on specified sources and TCP ports to protect against DDoS attacks. When deployed on a switch, control plane traffic is denied by default. Only the traffic specified in the CoPP prefilter profile is permitted.<br>  * description: Description to add to the Object.  The description can be up to 128 alphanumeric characters.<br>  * dot1x\_authentication\_policy: The 802.1x node authentication policy name.  An 802.1x node authorization policy is a client and server-based access control and authentication protocol that restricts unauthorized clients from connecting to a LAN through publicly accessible ports.<br>  * equipment\_flash\_config: Flash Configuration Policy.<br>  * fast\_link\_failover\_policy: The fast link failover policy name.  A fast link failover policy provides better convergence of the network.  Fast link failover policies are not supported on the same port as port profiles or remote leaf switch connections.<br>  * fibre\_channel\_node\_policy: The default Fibre Channel node policy name.  Fibre channel node policies specify FCoE-related settings, such as the load balance options and FIP keep alive intervals. <br>  * fibre\_channel\_san\_policy: The Fibre Channel SAN policy name.  Fibre Channel SAN policies specify FCoE-related settings: Error detect timeout values (EDTOV), resource allocation timeout values (RATOV), and the MAC address prefix (also called FC map) used by the leaf switch. Typically the default value 0E:FC:00 is used. <br>  * forward\_scale\_profile\_policy: The forwarding scale profile policy name.  The forwarding scale profile policy provides different scalability options. The scaling types are:<br>    - Dual Stack: Provides scalability of up to 12,000 endpoints for IPv6 configurations and up to 24,000 endpoints for IPv4 configurations.<br>    - High LPM: Provides scalability similar to the dual-stack policy, except that the longest prefix match (LPM) scale is 128,000 and the policy scale is 8,000.<br>    - IPv4 Scale: Enables systems with no IPv6 configurations to increase scalability to 48,000 IPv4 endpoints.<br>    - High Dual Stack: Provides scalability of up to 64,000 MAC endpoints, 64,000 IPv4 endpoints, and 24,000 IPv6 endpoints.<br>    For more information about this feature, see the Cisco APIC Forwarding Scale Profiles document.<br>  * lldp\_policy: The LLDP policy name.  LLDP uses the logical link control (LLC) services to transmit and receive information to and from other LLDP agents.<br>  * monitoring\_policy: The monitoring policy name.  Monitoring policies can include policies such as event/fault severity or the fault lifecycle. <br>  * netflow\_node\_policy: The NetFlow node policy name.  The node-level policy deploys two different NetFlow timers that specify the rate at which flow records are sent to the external collector.<br>  * ptp\_node\_policy: The PTP node policy name.  The Precision Time Protocol (PTP) synchronizes distributed clocks in a system using Ethernet networks.<br>  * poe\_node\_policy: The PoE node policy name.  PoE node policies control the overall power setting for the switch.<br>  * spanning\_tree\_policy: The spanning tree policy name.  A spanning tree protocol (STP) policy prevents loops caused by redundant paths in your network.<br>  * synce\_node\_policy: The SyncE Node policy name.  Synchronous Ethernet (SyncE) provides high-quality clock synchronization over Ethernet ports by using known common precision frequency references.<br>  * usb\_configuration\_policy: The USB configuration policy name.  The USB configuration policy can disable the USB port on a Cisco ACI-mode switch to prevent someone booting the switch from a USB image that contains malicious code. | <pre>map(object(<br>    {<br>      bfd_ipv4_policy              = optional(string)<br>      bfd_ipv6_policy              = optional(string)<br>      bfd_multihop_ipv4_policy     = optional(string)<br>      bfd_multihop_ipv6_policy     = optional(string)<br>      cdp_policy                   = optional(string)<br>      copp_leaf_policy             = optional(string)<br>      copp_pre_filter              = optional(string)<br>      description                  = optional(string)<br>      dot1x_authentication_policy  = optional(string)<br>      equipment_flash_config       = optional(string)<br>      fast_link_failover_policy    = optional(string)<br>      fibre_channel_node_policy    = optional(string)<br>      fibre_channel_san_policy     = optional(string)<br>      forward_scale_profile_policy = optional(string)<br>      lldp_policy                  = optional(string)<br>      monitoring_policy            = optional(string)<br>      netflow_node_policy          = optional(string)<br>      ptp_node_policy              = optional(string)<br>      poe_node_policy              = optional(string)<br>      spanning_tree_policy         = optional(string)<br>      synce_node_policy            = optional(string)<br>      usb_configuration_policy     = optional(string)<br>    }<br>  ))</pre> | <pre>{<br>  "default": {<br>    "bfd_ipv4_policy": "default",<br>    "bfd_ipv6_policy": "default",<br>    "bfd_multihop_ipv4_policy": "default",<br>    "bfd_multihop_ipv6_policy": "default",<br>    "cdp_policy": "default",<br>    "copp_leaf_policy": "default",<br>    "copp_pre_filter": "default",<br>    "description": "",<br>    "dot1x_authentication_policy": "default",<br>    "equipment_flash_config": "default",<br>    "fast_link_failover_policy": "default",<br>    "fibre_channel_node_policy": "default",<br>    "fibre_channel_san_policy": "default",<br>    "forward_scale_profile_policy": "default",<br>    "lldp_policy": "default",<br>    "monitoring_policy": "default",<br>    "netflow_node_policy": "default",<br>    "poe_node_policy": "default",<br>    "ptp_node_policy": "default",<br>    "spanning_tree_policy": "default",<br>    "synce_node_policy": "default",<br>    "usb_configuration_policy": "default"<br>  }<br>}</pre> | no |
| <a name="input_leaf_profiles"></a> [leaf\_profiles](#input\_leaf\_profiles) | key - Node ID of the Leaf<br>  * alias: A changeable name for a given object. While the name of an object, once created, cannot be changed, the alias is a field that can be changed.<br>  * description: Description to add to the Object.  The description can be up to 128 alphanumeric characters.<br>  * external\_pool\_id:<br>  * name: Hostname of the Leaf plus Name of the Leaf Profile, Leaf Interface Profile, and Leaf Profile Selector.<br>  * interfaces:<br>    - Key: The Name of the Interface Selector.  This Must be in the format of X/X for a regular leaf port or X/X/X for a breakout sub port.<br>      * interface\_description: Description to add to the Object.  The description can be up to 128 alphanumeric characters.<br>      * interface\_policy\_group: Name of the Interface Policy Group<br>      * port\_type: The type of Policy to Apply to the Port.<br>        - access: Access Port Policy Group<br>        - breakout: Breakout Port Policy Group<br>        - port-channel: Port-Channel Port Policy Group<br>        - vpc: Virtual Port-Channel Port Policy Group<br>      * selector\_description: Description to add to the Object.  The description can be up to 128 alphanumeric characters.<br>      * sub\_port: Flag to tell the Script to create a Sub-Port Block or regular Port Block<br>  * node\_type:<br>    - leaf<br>    - remote-leaf-wan<br>    - spine<br>    - tier-2-leaf<br>    - virtual-leaf<br>  * pod\_id: Identifier of the pod where the node is located.  Unless you are configuring Multi-Pod, this should always be 1.<br>  * serial: Manufacturing Serial Number of the Switch.<br>  * tags: A search keyword or term that is assigned to the Object. Tags allow you to group multiple objects by descriptive names. You can assign the same tag name to multiple objects and you can assign one or more tag names to a single object. | <pre>map(object(<br>    {<br>      alias             = optional(string)<br>      description       = optional(string)<br>      external_pool_id  = optional(string)<br>      name              = string<br>      leaf_policy_group = string<br>      node_type         = optional(string)<br>      pod_id            = optional(string)<br>      serial            = string<br>      tags              = optional(string)<br>      interfaces = map(object(<br>        {<br>          interface_description  = optional(string)<br>          interface_policy_group = optional(string)<br>          port_type              = optional(string)<br>          selector_description   = optional(string)<br>          sub_port               = optional(bool)<br>        }<br>      ))<br>    }<br>  ))</pre> | <pre>{<br>  "default": {<br>    "alias": "",<br>    "description": "",<br>    "external_pool_id": "0",<br>    "interfaces": {<br>      "default": {<br>        "interface_description": "",<br>        "interface_policy_group": "",<br>        "port_type": "access",<br>        "selector_description": "",<br>        "sub_port": false<br>      }<br>    },<br>    "leaf_policy_group": "**REQUIRED**",<br>    "name": "**REQUIRED**",<br>    "node_type": "unspecified",<br>    "pod_id": "1",<br>    "serial": "**REQUIRED**",<br>    "tags": ""<br>  }<br>}</pre> | no |
| <a name="input_privateKey"></a> [privateKey](#input\_privateKey) | Cisco ACI Private Key for SSL Based Authentication. | `string` | `""` | no |
| <a name="input_spine_policy_groups"></a> [spine\_policy\_groups](#input\_spine\_policy\_groups) | key - Name of the Leaf Policy Group.<br>  * bfd\_ipv4\_policy: The BFD IPv4 policy name.  Bidirectional Forwarding Detection (BFD) is used to provide sub-second failure detection times in the forwarding path between Cisco ACI fabric border leaf switches configured to support peering router connections.<br>  * bfd\_ipv6\_policy: The BFD IPv6 policy name.  Bidirectional Forwarding Detection (BFD) is used to provide sub-second failure detection times in the forwarding path between Cisco ACI fabric border leaf switches configured to support peering router connections.<br>  * cdp\_policy: The CDP policy name.  CDP is used to obtain protocol addresses of neighboring devices and discover those devices. CDP is also be used to display information about the interfaces connecting to the neighboring devices. CDP is media- and protocol-independent, and runs on all Cisco-manufactured equipments including routers, bridges, access servers, and switches.<br>  * copp\_pre\_filter: The CoPP Pre-Filter name.  A CoPP prefilter profile is used on spine and leaf switches to filter access to authentication services based on specified sources and TCP ports to protect against DDoS attacks. When deployed on a switch, control plane traffic is denied by default. Only the traffic specified in the CoPP prefilter profile is permitted.<br>  * copp\_spine\_policy: The Spine CoPP policy name.  Control Plane Policing (CoPP) protects the control plane, which ensures network stability, reachability, and packet delivery.<br>  * description: Description to add to the Object.  The description can be up to 128 alphanumeric characters.<br>  * lldp\_policy: The LLDP policy name.  LLDP uses the logical link control (LLC) services to transmit and receive information to and from other LLDP agents.<br>  * usb\_configuration\_policy: The USB configuration policy name.  The USB configuration policy can disable the USB port on a Cisco ACI-mode switch to prevent someone booting the switch from a USB image that contains malicious code. | <pre>map(object(<br>    {<br>      bfd_ipv4_policy          = optional(string)<br>      bfd_ipv6_policy          = optional(string)<br>      cdp_policy               = optional(string)<br>      copp_pre_filter          = optional(string)<br>      copp_spine_policy        = optional(string)<br>      description              = optional(string)<br>      lldp_policy              = optional(string)<br>      usb_configuration_policy = optional(string)<br>    }<br>  ))</pre> | <pre>{<br>  "default": {<br>    "bfd_ipv4_policy": "default",<br>    "bfd_ipv6_policy": "default",<br>    "cdp_policy": "default",<br>    "copp_pre_filter": "default",<br>    "copp_spine_policy": "default",<br>    "description": "",<br>    "lldp_policy": "default",<br>    "usb_configuration_policy": "default"<br>  }<br>}</pre> | no |
| <a name="input_spine_port_policy_groups"></a> [spine\_port\_policy\_groups](#input\_spine\_port\_policy\_groups) | key - Name of the Spine Interface Policy Group.<br>  * aep\_policy: Name of the Access Entity Profile Policy.  An Attached Entity Profile (AEP) provides a template to deploy hypervisor policies or application EPGs on a large set of ports.<br>  * alias: A changeable name for a given object. While the name of an object, once created, cannot be changed, the alias is a field that can be changed.<br>  * cdp\_policy: Name of the CDP Policy.  Cisco Discovery Protocol (CDP) policy to obtain protocol addresses of neighboring devices and discover the platform of these devices.<br>  * description: Description to add to the Object.  The description can be up to 128 alphanumeric characters.<br>  * link\_level\_policy: Name of the Link Level Policy.  Link Level policy specifies Layer 1 parameters for host facing ports.<br>  * macsec\_policy: Name of the MACsec Policy. | <pre>map(object(<br>    {<br>      aep_policy        = string<br>      alias             = optional(string)<br>      cdp_policy        = optional(string)<br>      description       = optional(string)<br>      link_level_policy = optional(string)<br>      macsec_policy     = optional(string)<br>    }<br>  ))</pre> | <pre>{<br>  "default": {<br>    "aep_policy": "**REQUIRED**",<br>    "alias": "",<br>    "cdp_policy": "default",<br>    "description": "",<br>    "link_level_policy": "default",<br>    "macsec_policy": "default"<br>  }<br>}</pre> | no |
| <a name="input_spine_profiles"></a> [spine\_profiles](#input\_spine\_profiles) | key - Node ID of the Spine<br>  * alias: A changeable name for a given object. While the name of an object, once created, cannot be changed, the alias is a field that can be changed.<br>  * description: Description to add to the Object.  The description can be up to 128 alphanumeric characters.<br>  * name: Hostname of the Spine plus Name of the Spine Profile, Spine Interface Profile, and Spine Profile Selector.<br>  * interfaces:<br>    - Key: The Name of the Interface Selector.  This Must be in the format of X/X for a regular spine port or X/X/X for a breakout sub port.<br>      * interface\_description: Description to add to the Object.  The description can be up to 128 alphanumeric characters.<br>      * interface\_policy\_group: Name of the Interface Policy Group<br>      * selector\_description: Description to add to the Object.  The description can be up to 128 alphanumeric characters.<br>  * pod\_id: Identifier of the pod where the node is located.  Unless you are configuring Multi-Pod, this should always be 1.<br>  * serial: Manufacturing Serial Number of the Switch.<br>  * tags: A search keyword or term that is assigned to the Object. Tags allow you to group multiple objects by descriptive names. You can assign the same tag name to multiple objects and you can assign one or more tag names to a single object. | <pre>map(object(<br>    {<br>      alias              = optional(string)<br>      description        = optional(string)<br>      name               = string<br>      spine_policy_group = string<br>      node_type          = optional(string)<br>      pod_id             = optional(string)<br>      serial             = string<br>      tags               = optional(string)<br>      interfaces = map(object(<br>        {<br>          interface_description  = optional(string)<br>          interface_policy_group = optional(string)<br>          port_type              = optional(string)<br>          selector_description   = optional(string)<br>        }<br>      ))<br>    }<br>  ))</pre> | <pre>{<br>  "default": {<br>    "alias": "",<br>    "description": "",<br>    "interfaces": {<br>      "default": {<br>        "interface_description": "",<br>        "interface_policy_group": "default",<br>        "selector_description": ""<br>      }<br>    },<br>    "name": "**REQUIRED**",<br>    "pod_id": "1",<br>    "serial": "**REQUIRED**",<br>    "spine_policy_group": "**REQUIRED**",<br>    "tags": ""<br>  }<br>}</pre> | no |
| <a name="input_vlan_pools"></a> [vlan\_pools](#input\_vlan\_pools) | key - name of the VLAN Pool<br>  * alias: A changeable name for a given object. While the name of an object, once created, cannot be changed, the alias is a field that can be changed.<br>  * allocation\_mode: The allocation mode. The values can be:<br>    - dynamic (default): Managed internally by the APIC to allocate VLANs for endpoint groups (EPGs). A vCenter Domain can associate only to a dynamic pool.<br>    - static: One or more EPGs are associated with a domain, and that domain is associated with a static range of VLANs. You must configure statically deployed EPGs within that range of VLANs.<br>    When you create VLAN ranges, you can also assign the allocation mode to be inherited from the parent.<br>  * description: Description to add to the Object.    The description can be up to 128 alphanumeric characters.<br>  * encap\_blocks:<br>    - allocation\_mode: The allocation mode. The values can be:<br>      * dynamic: Managed internally by the APIC to allocate VLANs for endpoint groups (EPGs). A vCenter Domain can associate only to a dynamic pool.<br>      * inherit (default): The inherited mode from the parent device.<br>      * static: One or more EPGs are associated with a domain, and that domain is associated with a static range of VLANs. You must configure statically deployed EPGs within that range of VLANs.<br>    - description: Description to add to the Object.    The description can be up to 128 alphanumeric characters.<br>    - role: Role of the VLAN range. The options are:<br>      * external (Default): Used for allocating VLANs for each EPG assigned to the domain. The VLANs are used when packets are sent to or from leafs.<br>      * Internal: Used for private VLAN allocations in the internal vSwitch by the Cisco ACI Virtual Edge (AVE). The VLANs are not seen outside the ESX host or on the wire.<br>    - vlan\_range: single vlan; i.e. 1.  range of vlans; i.e. 1-5. Or List of Vlans; i.e. 1-5,10-15 | <pre>map(object(<br>    {<br>      alias           = optional(string)<br>      allocation_mode = optional(string)<br>      description     = optional(string)<br>      encap_blocks = map(object(<br>        {<br>          allocation_mode = optional(string)<br>          description     = optional(string)<br>          role            = optional(string)<br>          vlan_range      = string<br>        }<br>      ))<br>    }<br>  ))</pre> | <pre>{<br>  "default": {<br>    "alias": "",<br>    "allocation_mode": "dynamic",<br>    "description": "",<br>    "encap_blocks": {<br>      "default": {<br>        "allocation_mode": "inherit",<br>        "description": "",<br>        "role": "external",<br>        "vlan_range": "**REQUIRED**"<br>      }<br>    }<br>  }<br>}</pre> | no |

## Outputs

No outputs.
<!-- END OF PRE-COMMIT-TERRAFORM DOCS HOOK -->
